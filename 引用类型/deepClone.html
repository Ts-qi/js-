<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <h1>深拷贝</h1>
  <script>
  // 定义检测数据类型的方法
  function checkedDataType(target) {
    return Object.prototype.toString.call(target).slice(8,-1);
 
  }
  let data = [];
  console.log(checkedDataType(data)) //array 
  function deepClone (target) {
    let result ;  // 初始化一个 result 数据，就是最终的克隆的数据
    let targetType = checkedDataType(target);
    //判断类型 对 定义好的 result 赋值；
    if(targetType === 'Array') {
      result = []
    }else if(targetType === 'Object') {
      result = {}
    }else {
      return result;
    };

    //遍历传进来的 target 
    for ( let key in target) {
      let item = target[key];
      let type = checkedDataType(item);
      //判断对象里的每一个值是否存在对象 或者数组
      if(type === "Object" || type === 'Array') {

        result[key] = deepClone(item);

      }else {
        // 基本类型数据  或者 函数；
        result[key] = item;
      }
    }

    return result;

  }
  
  </script>
</body>
</html>